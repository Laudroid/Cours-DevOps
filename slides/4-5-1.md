Voici votre présentation de 6 slides, conçue pour être pédagogique, accessible et engageante.

---

### Slide 1: Intégration d'un monitoring simple avec Prometheus et Grafana

**Pourquoi monitorer ?**
*   Garantir la **disponibilité** et la **réactivité** de vos applications.
*   Étape essentielle pour la santé de votre système.

**Les principes clés de Prometheus & Grafana**

*   **Prometheus:**
    *   Collecte des métriques exposées par l'application (via endpoint HTTP).
    *   Stocke ces données dans une base de séries temporelles.
*   **Grafana:**
    *   Se connecte à Prometheus pour accéder aux données.
    *   Crée des dashboards graphiques pour visualiser les métriques.
    *   Permet d'identifier les tendances et les anomalies.

**Objectif:** Intégrer rapidement un monitoring d’une métrique applicative, de l’instrumentation à la visualisation.

---

### Slide 2: Étape 1 : Instrumenter l'application

**But:** Exposer une métrique simple, comme le nombre total de requêtes HTTP traitées.

**Exemple en Python avec Flask et `prometheus_client`:**

```python
from prometheus_client import start_http_server, Counter
from flask import Flask, request

app = Flask(__name__)
# Définition du compteur de requêtes HTTP
REQUEST_COUNT = Counter('http_requests_total', 'Nombre total de requêtes HTTP')

@app.route('/')
def index():
    REQUEST_COUNT.inc()  # Incrémente le compteur à chaque requête
    return "Hello, world!"

if __name__ == '__main__':
    start_http_server(8000)  # Expose les métriques sur localhost:8000/metrics
    app.run(port=5000)       # L'application Flask répond sur le port 5000
```

*   Le compteur `http_requests_total` est incrémenté à chaque appel à la route `/`.
*   Les métriques Prometheus sont accessibles via `/metrics` sur le port 8000.

---

### Slide 3: Étape 2 : Configurer Prometheus

**Prometheus a besoin de savoir où récupérer les métriques.**
Un fichier `prometheus.yml` minimaliste pour la collecte :

```yaml
global:
  scrape_interval: 15s  # Interroge les cibles toutes les 15 secondes

scrape_configs:
  - job_name: 'my_app'  # Nom du job de collecte
    static_configs:
      - targets: ['localhost:8000'] # Adresse et port de l'application exposant les métriques
```

*   **`scrape_interval`**: Fréquence à laquelle Prometheus va interroger l'application.
*   **`targets`**: Liste des endpoints où Prometheus doit récupérer les métriques (ici, l'application Python exposant `/metrics` sur `localhost:8000`).
*   Ce fichier est essentiel pour que Prometheus puisse "scrapper" (collecter) les données.

---

### Slide 4: Étape 3 : Lancer Prometheus et Grafana

**1. Lancer Prometheus**
*   Téléchargez Prometheus depuis [prometheus.io/download](https://prometheus.io/download/).
*   Exécutez-le avec votre fichier de configuration :
    ```bash
    ./prometheus --config.file=prometheus.yml
    ```
*   Prometheus sera accessible sur : `http://localhost:9090`

**2. Lancer Grafana**
*   Téléchargez et lancez Grafana : [grafana.com/grafana/download](https://grafana.com/grafana/download).
*   Connectez-vous à Grafana (par défaut : `admin`/`admin`).
*   **Ajoutez Prometheus comme source de données :**
    *   URL : `http://localhost:9090`
*   **Créez un nouveau dashboard :**
    *   Ajoutez un panneau de visualisation.
    *   Utilisez la requête PromQL suivante :
        ```promql
        http_requests_total
        ```
    *   Cette requête permet d'afficher le nombre total de requêtes HTTP.

---

### Slide 5: Visualisation des Résultats

**Exemple de visualisation dans Grafana**

![Graphique conceptuel d'une série temporelle]
*Ce graphique représente l'évolution du nombre de requêtes HTTP sur l'axe Y en fonction du temps sur l'axe X. La courbe montre une augmentation progressive, reflétant l'incrémentation de `http_requests_total` au fur et à mesure que l'application reçoit des requêtes.*

*   Vous visualisez en **temps réel** l'évolution du compteur de requêtes de votre application.
*   **Grafana offre des fonctionnalités avancées :**
    *   Configuration d'**alertes** basées sur des seuils.
    *   Affinement de la visualisation (par minute, par endpoint spécifique).
    *   Ajout d'autres panneaux pour des métriques variées.

---

### Slide 6: Avantages & Ressources

**Ce qu'il faut retenir de cette approche simple**

*   **Mise en place rapide** avec peu de dépendances.
*   **Monitoring basique** pour vérifier la disponibilité et la charge de l'application.
*   **Extensible** pour ajouter d’autres métriques (temps de réponse, erreurs, utilisation des ressources, etc.).
*   Pose les bases d’une **observabilité approfondie** pour des environnements de production modernes.

**Ressources et documentation**

*   Prometheus client Python : [github.com/prometheus/client_python](https://github.com/prometheus/client_python)
*   Prometheus documentation : [prometheus.io/docs/introduction/overview/](https://prometheus.io/docs/introduction/overview/)
*   Grafana documentation : [grafana.com/docs/grafana/latest/getting-started/getting-started-prometheus/](https://grafana.com/docs/grafana/latest/getting-started/getting-started-prometheus/)
*   Exemple tutoriel DigitalOcean : [digitalocean.com/community/tutorials/how-to-monitor-applications-with-prometheus-and-grafana-on-ubuntu-18-04](https://www.digitalocean.com/community/tutorials/how-to-monitor-applications-with-prometheus-and-grafana-on-ubuntu-18-04)