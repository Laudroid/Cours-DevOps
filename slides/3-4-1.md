Voici la présentation demandée, structurée en 6 slides, conçue pour être pédagogique et engageante.

---

### Slide 1

## Déployer sur Minikube ou Kind : L'Essentiel avec `kubectl`

Pour tester et développer vos applications conteneurisées dans un environnement Kubernetes local, **Minikube** et **Kind** sont des outils incontournables.

Ce guide vous montre comment utiliser la commande `kubectl` pour les déploiements, les tests et la gestion sur ces clusters légers, simulant des conditions proches de la production.

---

### Slide 2

## Préparation du Cluster et Gestion des Images Docker

Pour lancer votre environnement local et y rendre vos images accessibles :

### 1. Démarrer votre cluster local

*   **Minikube :** Lance une machine virtuelle Kubernetes.
    ```bash
    minikube start
    ```
*   **Kind :** Crée un cluster Kubernetes dans un conteneur Docker.
    ```bash
    kind create cluster
    ```

### 2. Construire et charger l'image Docker

*   **Avec Minikube :** Utilise le daemon Docker de Minikube.
    ```bash
    eval $(minikube docker-env)
    docker build -t mon-app:v1 .
    ```
*   **Avec Kind :** Importe l'image depuis l'hôte dans le cluster.
    ```bash
    docker build -t mon-app:v1 .
    kind load docker-image mon-app:v1
    ```

---

### Slide 3

## Déployer l'Application : Le Deployment

Le `Deployment` décrit comment vos pods doivent être exécutés.

### Fichier `deployment.yaml`

```yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: mon-app
spec:
  replicas: 2
  selector:
    matchLabels:
      app: mon-app
  template:
    metadata:
      labels:
        app: mon-app
    spec:
      containers:
      - name: mon-app-container
        image: mon-app:v1
        ports:
        - containerPort: 8080
```

### Déployer et vérifier

```bash
kubectl apply -f deployment.yaml
kubectl get pods
```

---

### Slide 4

## Exposer l'Application : Le Service NodePort

Pour rendre votre application accessible de l'extérieur du cluster, vous devez créer un `Service`.

### Fichier `service.yaml` (type NodePort)

```yaml
apiVersion: v1
kind: Service
metadata:
  name: mon-app-service
spec:
  type: NodePort
  selector:
    app: mon-app
  ports:
    - port: 8080
      targetPort: 8080
      nodePort: 30007 # Port sur l'hôte/VM
```

### Déployer le service

```bash
kubectl apply -f service.yaml
```

---

### Slide 5

## Accéder à l'Application et Surveillance

Votre application est déployée, voici comment y accéder et surveiller son état.

### Accéder à l'application localement

*   **Avec Minikube :**
    1.  Récupérez l'IP du cluster : `minikube ip`
    2.  Accédez via : `http://<minikube-ip>:30007`
*   **Avec Kind :**
    1.  Utilisez le `port-forward` : `kubectl port-forward svc/mon-app-service 8080:8080`
    2.  Accédez via : `http://localhost:8080`

### Surveillance des ressources et logs

*   Voir toutes les ressources : `kubectl get all`
*   Consulter les logs d'un pod : `kubectl logs <nom-du-pod>`

---

### Slide 6

## Nettoyage, Récapitulatif & Références

### Nettoyage des ressources

*   Supprimer le déploiement et le service :
    ```bash
    kubectl delete -f deployment.yaml
    kubectl delete -f service.yaml
    ```
*   Arrêter Minikube : `minikube stop`
*   Supprimer le cluster Kind : `kind delete cluster`

### Ce qu'il faut retenir

*   Minikube et Kind simulent un environnement Kubernetes complet localement.
*   Ils simplifient le développement, les tests et la prise en main de Kubernetes.
*   Maîtriser la manipulation des images Docker et la gestion des services (NodePort, port-forwarding) est essentiel.

### Sources utilisées

*   Minikube Official Docs: https://minikube.sigs.k8s.io/docs/
*   Kind Official Docs: https://kind.sigs.k8s.io/docs/user/quick-start/
*   Kubernetes Docs - kubectl: https://kubernetes.io/docs/reference/kubectl/overview/
*   Kubernetes Tutorials by Katacoda: https://www.katacoda.com/courses/kubernetes