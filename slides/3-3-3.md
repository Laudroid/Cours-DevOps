Voici la présentation pédagogique de 6 slides, conçue pour être accessible et engageante, en utilisant uniquement le texte fourni.

---

### Déploiement d’une application sur Kubernetes : approche simplifiée

Kubernetes facilite la gestion et le déploiement d’applications conteneurisées à grande échelle.
Pour débuter, cette présentation explore une méthode simple de déploiement d’une application :

*   **Création d’un déploiement (Deployment)**
*   **Exposition via un service (Service)**
*   **Utilisation des commandes essentielles**

---

### 1. Avant de Commencer : Les Essentiels

Pour déployer une application sur Kubernetes, vous devez disposer de :

*   **Une image Docker de l’application**
    *   Stockée dans un registre accessible (Docker Hub, Quay.io, etc.).
*   **Un cluster Kubernetes configuré et accessible**
    *   Local (Minikube, KIND) ou Cloud (GKE, EKS, AKS).
*   **L’outil en ligne de commande `kubectl`**
    *   Pour interagir avec le cluster.

---

### 2. Créer un Déploiement (Deployment)

Le **Deployment** est la ressource Kubernetes clé pour gérer un ensemble de pods identiques et assurer leur état.

**Déploiement rapide d'une application Nginx :**

```bash
kubectl create deployment nginx-deploy --image=nginx
kubectl scale deployment nginx-deploy --replicas=3
```
Cette méthode lance 3 pods exécutant l’image Nginx.

**Définition via un fichier YAML (plus flexible) :**

`deployment.yaml`
```yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: nginx-deploy
spec:
  replicas: 3
  selector:
    matchLabels:
      app: nginx
  template:
    metadata:
      labels:
        app: nginx
    spec:
      containers:
      - name: nginx
        image: nginx:latest
        ports:
        - containerPort: 80
```
**Appliquer le déploiement :**
```bash
kubectl apply -f deployment.yaml
```

---

### 3. Exposer l’Application avec un Service

Pour rendre vos pods accessibles, un **Service** Kubernetes est nécessaire. Il fournit :

*   Une adresse IP stable dans le cluster (`ClusterIP`).
*   Ou une accessibilité externe (`NodePort`, `LoadBalancer`).

**Exemple de service NodePort (exposition sur le port 30000 du nœud) :**

`service.yaml`
```yaml
apiVersion: v1
kind: Service
metadata:
  name: nginx-service
spec:
  selector:
    app: nginx
  type: NodePort
  ports:
  - protocol: TCP
    port: 80
    targetPort: 80
    nodePort: 30000
```
**Déployer le service :**
```bash
kubectl apply -f service.yaml
```
L’application sera alors accessible sur le port 30000 de chaque nœud du cluster (ex: `localhost:30000` pour un cluster local).

**Conception Simplifiée :**
```
+------------------+     +------------------------+     +---------------------+
| Requête Externe  | --> | Service (NodePort:30000)| --> | Déploiement (nginx-deploy) |
+------------------+     +------------------------+     +---------------------+
                                                           | Pod 1 (nginx)       |
                                                           | Pod 2 (nginx)       |
                                                           | Pod 3 (nginx)       |
                                                           +---------------------+
```

---

### 4. Vérifier et 5. Nettoyer

**Vérifier le déploiement :**

*   Lister les déploiements :
    ```bash
    kubectl get deployments
    ```
*   Voir les pods :
    ```bash
    kubectl get pods
    ```
*   Obtenir le détail du service :
    ```bash
    kubectl get services
    ```
*   Vérifier les logs d’un pod :
    ```bash
    kubectl logs <nom-du-pod>
    ```

**Nettoyer les ressources :**

*   Supprimer les ressources créées :
    ```bash
    kubectl delete -f deployment.yaml
    kubectl delete -f service.yaml
    ```

---

### L'Essentiel et Ressources Utiles

**Ce qu'il faut retenir :**
Utiliser un **Deployment** pour gérer les pods et un **Service** pour les exposer est la méthode standard et recommandée pour déployer des applications sur Kubernetes. Cette approche simplifiée permet de démarrer rapidement et d’évoluer vers des configurations plus complexes.

**Sources utilisées :**
*   Kubernetes Docs - *Deployments*: [https://kubernetes.io/docs/concepts/workloads/controllers/deployment/](https://kubernetes.io/docs/concepts/workloads/controllers/deployment/)
*   Kubernetes Docs - *Services*: [https://kubernetes.io/docs/concepts/services-networking/service/](https://kubernetes.io/docs/concepts/services-networking/service/)
*   Katacoda Kubernetes Tutorials: [https://www.katacoda.com/courses/kubernetes](https://www.katacoda.com/courses/kubernetes)
*   DigitalOcean - *How to Deploy Applications with Kubernetes*: [https://www.digitalocean.com/community/tutorials/how-to-deploy-applications-with-kubernetes](https://www.digitalocean.com/community/tutorials/how-to-deploy-applications-with-kubernetes)