Voici la présentation de 6 slides, conçue pour être claire et impactante :

---

## Outils de monitoring : découverte de Prometheus et Grafana

Le monitoring est une composante clé de l’observabilité, garantissant la surveillance continue des performances, de la santé des systèmes et la détection rapide d’anomalies.

Dans l'écosystème cloud natif, **Prometheus** et **Grafana** occupent une place centrale.
Cette présentation explore leurs fonctionnalités, leur complémentarité et leur usage pratique.

---

## Prometheus : Collecte et Gestion de Métriques

Système open source de monitoring et d’alerte, conçu pour collecter, stocker et requêter des données métriques dans un format temporel.

**Fonctionnement clé :**
*   **Modèle Pull** : interroge périodiquement des endpoints HTTP (exporters).
*   **Base de données temporelle interne** optimisée pour les séries temporelles.
*   **PromQL** : langage de requêtes flexible pour explorer les métriques.
*   **Alertmanager** : intégré pour gérer la notification des alertes.

**Exemples de métriques collectées :**
*   CPU, mémoire, I/O des serveurs et containers.
*   Nombre de requêtes HTTP, taux d’erreur, latence.
*   Statistiques propres aux applications.

---

## Grafana : Visualisation et Tableaux de Bord

Solution open source de visualisation qui se connecte à diverses sources de données pour créer des dashboards interactifs et intuitifs.

**Fonctionnalités principales :**
*   **Supporte plusieurs sources** : Prometheus, Elasticsearch, InfluxDB, etc.
*   **Construction visuelle** : graphiques, tables, heatmaps, alertes visuelles.
*   **Interface web intuitive** : options de filtre, annotations, partage.
*   **Capacité d'alerte** basée sur des métriques visualisées.

---

## Mise en Œuvre : Un Exemple Concret

**Étape 1 : Exposer des métriques dans une application (Go)**

```go
// Exemple simplifié d'une application Go
import (
  "github.com/prometheus/client_golang/prometheus"
  "github.com/prometheus/client_golang/prometheus/promhttp"
  "net/http"
)
var httpRequests = prometheus.NewCounterVec(...)
func main() {
  prometheus.MustRegister(httpRequests)
  http.Handle("/metrics", promhttp.Handler()) // Endpoint /metrics
  http.ListenAndServe(":2112", nil)
}
```

**Étape 2 : Configurer Prometheus pour scruter l’application**

```yaml
# Extrait du fichier prometheus.yml
scrape_configs:
  - job_name: 'my-app'
    static_configs:
      - targets: ['localhost:2112'] # Cible l'endpoint /metrics
```

**Étape 3 : Créer un dashboard Grafana**

*   Ajouter Prometheus comme source de données.
*   Créer un graphique avec une requête PromQL :
    `sum(rate(http_requests_total[5m])) by (path)`
*   **Résultat** : Affichage du taux de requêtes HTTP par chemin sur les 5 dernières minutes.

---

## Synergie Prometheus & Grafana : Leurs Atouts

| Aspect                 | Prometheus                      | Grafana                        |
|------------------------|--------------------------------|-------------------------------|
| **Collecte métriques** | Modèle pull, scalable          | N/A                           |
| **Stockage**           | Base temporelle intégrée       | N/A                           |
| **Analyse**            | Requêtes via PromQL            | N/A                           |
| **Visualisation**      | Basique dans l’interface       | Richesse graphique et flexibilité |
| **Alerting**           | Alertmanager configurable      | Alertes visuelles sur dashboards |

---

## Ce Qu'il Faut Retenir & Ressources Utiles

**En résumé :**
Prometheus et Grafana forment un duo puissant pour une stratégie de monitoring efficace et flexible.
*   **Prometheus** excelle dans la collecte et la gestion des métriques, offrant précision et scalabilité.
*   **Grafana** fournit une interface intuitive et robuste pour visualiser ces données, facilitant la prise de décisions éclairées et la gestion proactive des incidents.

**Ressources complémentaires :**
*   **Prometheus Official Docs**: [https://prometheus.io/docs/introduction/overview/](https://prometheus.io/docs/introduction/overview/)
*   **Grafana Official Docs**: [https://grafana.com/docs/grafana/latest/](https://grafana.com/docs/grafana/latest/)
*   *Monitoring your application with Prometheus and Grafana* (DigitalOcean): [https://www.digitalocean.com/community/tutorials/how-to-set-up-prometheus-monitoring-on-ubuntu-18-04](https://www.digitalocean.com/community/tutorials/how-to-set-up-prometheus-monitoring-on-ubuntu-18-04)
*   Blog Grafana Labs, *Getting Started with Grafana and Prometheus*: [https://grafana.com/blog/2020/12/02/getting-started-with-grafana-and-prometheus/](https://grafana.com/blog/2020/12/02/getting-started-with-grafana-and-prometheus/)