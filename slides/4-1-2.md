Voici votre présentation de 6 slides, conçue pour être claire, engageante et aller à l'essentiel.

---

## Stratégies de déploiement : Blue/Green, Canary et Rolling Update

Mettre à jour une application en production est un défi majeur. Choisir la bonne stratégie est essentiel pour :
*   **Garantir la disponibilité**
*   **Assurer la résilience**
*   **Maintenir la qualité du service**

Nous allons explorer trois approches clés : Blue/Green, Canary et Rolling Update.

---

## 1. Blue/Green Deployment : Bascule instantanée

**Principe :**
*   **Deux environnements identiques et isolés :**
    *   **Blue :** l'application actuelle en production.
    *   **Green :** la nouvelle version, déployée et testée.
*   **Bascule rapide :** Le routeur redirige le trafic de Blue vers Green.

**Avantages :**
*   **Quasi zéro downtime :** basculement instantané.
*   **Rollback immédiat :** retour simple à l'environnement Blue.
*   **Tests complets :** possibles sur Green avant la mise en production.

**Inconvénients :**
*   **Coût élevé :** double infrastructure.
*   **Complexité :** synchronisation des données Blue/Green.

**Exemple :** Un Ingress Controller Kubernetes bascule le trafic de `service-blue` (v1) vers `service-green` (v2) en modifiant sa règle.

---

## 2. Canary Deployment : Déploiement progressif et contrôlé

**Principe :**
*   **Introduction progressive :** La nouvelle version est d'abord déployée sur une partie restreinte des utilisateurs (ex: 5% du trafic).
*   **Surveillance et ajustement :** Si aucun problème n'est détecté, le pourcentage est progressivement augmenté jusqu'à 100%.

**Avantages :**
*   **Risque très réduit :** impact initial limité aux utilisateurs canarisés.
*   **Monitoring précis :** retours d'expérience réels pour la nouvelle version.
*   **Rollback granulaire :** facilité de retour arrière partiel.

**Inconvénients :**
*   **Complexité de gestion :** routage et monitoring.
*   **Outils avancés nécessaires :** observabilité (metrics, tracing).

**Exemple :** Sur Kubernetes, Istio ou Linkerd ajustent les règles de routage d'un service mesh pour diriger une fraction du trafic.

---

## 3. Rolling Update : Mise à jour progressive et automatisée

**Principe :**
*   **Remplacement séquentiel :** Les instances de l'ancienne version sont progressivement arrêtées.
*   **Démarrage des nouvelles instances :** Simultanément, de nouvelles instances de la version mise à jour démarrent.
*   **Sans interruption :** Le service reste disponible durant tout le processus.
*   **Stratégie par défaut :** des Deployments Kubernetes.

**Avantages :**
*   **Coût faible :** pas besoin d'infrastructures dupliquées.
*   **Processus automatisé :** intègre des sondes de santé (probes) pour la robustesse.

**Inconvénients :**
*   **Pas de contrôle fin :** sur le trafic (contrairement à Canary).
*   **Rollback plus complexe :** si un problème est détecté tardivement en production.

**Exemple :**
```yaml
spec:
  strategy:
    type: RollingUpdate
    rollingUpdate:
      maxUnavailable: 1 # Nb max de pods indisponibles pendant la màj
      maxSurge: 1       # Nb max de pods supplémentaires créés pendant la màj
```

---

## Synthèse : Quelle stratégie pour quel besoin ?

| Stratégie      | Downtime   | Risque       | Complexité implémentation   | Coût infrastructure  | Monitoring nécessaire |
|----------------|------------|--------------|-----------------------------|----------------------|----------------------|
| Blue/Green     | quasi nul  | faible       | modérée                    | élevé (double infra) | standard             |
| Canary         | nul        | très faible  | élevée (routage fin, métriques) | moyen               | avancé               |
| Rolling Update | nul à faible | moyen       | faible                      | faible               | standard             |

---

## Ce qu'il faut retenir & Pour aller plus loin

**Ce qu'il faut retenir :**
*   Le choix dépend du **contexte opérationnel**, des **moyens techniques** et des **exigences métiers**.
*   **Blue/Green :** Simplicité et sécurité, mais coût élevé (double infra).
*   **Canary :** Rapidité et granularité, mais complexité (outils d'observabilité avancés).
*   **Rolling Update :** Efficacité et automatisation, pour la majorité des cas.
*   Maîtriser ces approches permet des déploiements fiables et performants.

**Sources utilisées :**
*   Kubernetes Docs - *Rolling Updates*: https://kubernetes.io/docs/concepts/workloads/controllers/deployment/#rolling-update-deployment
*   Martin Fowler - *Blue/Green Deployment*: https://martinfowler.com/bliki/BlueGreenDeployment.html
*   The New Stack - *What is Canary Deployment?*: https://thenewstack.io/what-is-canary-deployment/
*   CNCF Blog, *Service Mesh and Canary Deployments*: https://www.cncf.io/blog/2019/07/23/introduction-to-canary-releases-with-istio/