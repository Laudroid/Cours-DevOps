Voici une présentation structurée en 6 slides, conçue pour être accessible et engageante.

---

### **Slide 1: Projet DevOps Complet : Du Code au Monitoring**

**Objectif de l'exercice**
Mettre en œuvre une chaîne DevOps complète en équipe, à partir d'une application simple. Ce travail pratique couvre les bases essentielles du développement moderne :
*   Gestion de code
*   Intégration continue
*   Déploiement conteneurisé
*   Surveillance

**1. Mise en place d’un dépôt Git structuré**
*   **Objectif :** Organiser le projet avec un contrôle de version efficace pour la collaboration.
*   **Recommandations :**
    *   Créer un dépôt central (GitHub, GitLab...).
    *   Adopter une stratégie de branches simple :
        *   `main` ou `master` pour la production.
        *   `develop` pour les développements en cours.
        *   Branches `feature` pour les nouvelles fonctionnalités.

*   **Commandes Git essentielles :**
    ```bash
    git init
    git remote add origin https://github.com/votreorg/monappli.git
    git checkout -b develop
    git push -u origin develop
    ```

---

### **Slide 2: Automatisation du Pipeline CI/CD**

**2. Pipeline CI/CD automatisé**
*   **Objectif :** Automatiser les étapes de `build`, `test` et `déploiement` pour garantir la qualité et accélérer la livraison.
*   **Exemple avec GitHub Actions**
    *   Un fichier `.github/workflows/ci-cd.yaml` se déclenche sur les `push` vers `develop` et `main`.
    *   **Étapes clés :**
        1.  `build-test` (sur `ubuntu-latest`) :
            *   Récupération du code.
            *   Configuration Python, installation des dépendances.
            *   Exécution des tests (`pytest`).
        2.  `build-deploy` (sur `ubuntu-latest`, après `build-test`) :
            *   Récupération du code.
            *   Construction de l'image Docker (`docker build`).
            *   Authentification et envoi de l'image Docker (`docker push`).
            *   Déploiement sur Kubernetes (`azure/k8s-deploy`).

---

### **Slide 3: Conteneurisation de l’Application**

**3. Conteneurisation de l’application**
*   **Objectif :** Emballer l’application et toutes ses dépendances dans un conteneur Docker portable et reproductible.

*   **Exemple de `Dockerfile` simple (Application Python Flask)**
    ```Dockerfile
    FROM python:3.10-slim

    WORKDIR /app
    COPY requirements.txt .
    RUN pip install -r requirements.txt
    COPY . .

    EXPOSE 5000
    CMD ["python", "app.py"]
    ```
*   **Décryptage :**
    *   Utilisation d'une image de base légère : `python:3.10-slim`.
    *   Définition du répertoire de travail (`/app`).
    *   Copie et installation des dépendances du projet (`requirements.txt`).
    *   Copie du code source de l'application.
    *   Exposition du port 5000, sur lequel l'application écoute.
    *   Définition de la commande de lancement de l'application.

---

### **Slide 4: Déploiement sur Kubernetes**

**4. Déploiement Kubernetes**
*   **Objectif :** Orchestrer et gérer le déploiement des conteneurs, assurant la scalabilité et la haute disponibilité.

*   **Extrait d’un fichier `deployment.yaml`**
    ```yaml
    apiVersion: apps/v1
    kind: Deployment
    metadata:
      name: monappli-deploy
    spec:
      replicas: 2
      selector:
        matchLabels:
          app: monappli
      template:
        metadata:
          labels:
            app: monappli
        spec:
          containers:
          - name: monappli
            image: monappli:latest
            ports:
            - containerPort: 5000
    ```
*   **Principes clés :**
    *   `Deployment` : Ressource pour déclarer l'état désiré de votre application.
    *   `replicas: 2` : Assure que 2 instances de l'application sont toujours en cours d'exécution.
    *   `selector` et `labels` : Permettent à Kubernetes d'identifier les Pods gérés par ce déploiement.
    *   `image: monappli:latest` : Spécifie l'image Docker à utiliser.
    *   Kubernetes gère automatiquement le redémarrage des instances en cas de défaillance.

---

### **Slide 5: Monitoring et Options Avancées**

**5. Monitoring basique**
*   **Objectif :** Surveiller la performance et la santé de l'application en production.
*   **Intégration Prometheus/Grafana :**
    1.  **Instrumenter l’application :** Ajouter un point d'accès `/metrics` (ex: `prometheus_client` pour Python) pour exposer les métriques.
    2.  **Déployer Prometheus :** Installer Prometheus dans le cluster Kubernetes avec un `ServiceMonitor` qui cible votre application.
    3.  **Configurer Grafana :** Lier Grafana à Prometheus comme source de données.
    4.  **Créer un Dashboard :** Visualiser des métriques clés, comme le nombre de requêtes HTTP.

**6. Optionnalités avancées**
*   **Intégration de sécurité simple :**
    *   Scan automatique des images Docker (ex. avec Trivy).
    *   Analyse statique de code (SAST) dans le pipeline CI/CD.
    *   Politiques RBAC (Role-Based Access Control) pour restreindre les droits Kubernetes.
*   **GitOps :**
    *   Déployer via un outil comme ArgoCD ou Flux.
    *   Synchronise l'état du cluster avec un dépôt Git, facilitant la traçabilité et le rollback.

---

### **Slide 6: Synthèse et Ressources**

**Ce qu'il faut retenir**
*   La réalisation de ce projet pratique permet de mettre en œuvre une chaîne DevOps complète, de la gestion du code source à la surveillance en production.
*   Le travail en groupe améliore la collaboration et la maîtrise d'outils essentiels dans les environnements DevOps actuels.
*   Chaque étape (Git, CI/CD, Conteneurisation, Kubernetes, Monitoring) est un pilier pour la livraison rapide et fiable de logiciels.

**Sources et références**
*   Documentation GitHub Actions : [https://docs.github.com/en/actions](https://docs.github.com/en/actions)
*   Documentation Docker : [https://docs.docker.com/](https://docs.docker.com/)
*   Kubernetes official docs : [https://kubernetes.io/docs/home/](https://kubernetes.io/docs/home/)
*   Prometheus & Grafana monitoring : [https://prometheus.io/docs/introduction/overview/](https://prometheus.io/docs/introduction/overview/), [https://grafana.com/docs/grafana/latest/getting-started/getting-started-prometheus/](https://grafana.com/docs/grafana/latest/getting-started/getting-started-prometheus/)
*   Trivy security scanner : [https://github.com/aquasecurity/trivy](https://github.com/aquasecurity/trivy)
*   GitOps basics (Flux) : [https://fluxcd.io/docs/](https://fluxcd.io/docs/)