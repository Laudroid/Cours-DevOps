Voici votre présentation de 6 slides, conçue pour être claire, engageante et aller droit au but.

---

### Configurer un Pipeline CI Simple (Node.js / Python)

*   L'automatisation via un pipeline d'intégration continue (CI) est une étape clé pour tout projet logiciel.
*   Ce guide présente la mise en place d'un pipeline simple sur **GitLab CI** et **GitHub Actions**.
*   **Objectif :** Compiler le code, exécuter les tests unitaires et générer un artefact pour le déploiement.

---

### Avant de Commencer : Les Prérequis

Pour une intégration continue réussie, assurez-vous d'avoir :

*   **Projet versionné :** Votre code doit être hébergé sur GitLab ou GitHub.
*   **Tests unitaires présents :** Des tests fonctionnels (ex: Jest pour Node.js, pytest pour Python) doivent déjà exister.
*   **Fichier de dépendances :** Un fichier listant les dépendances (`package.json` pour Node.js, `requirements.txt` pour Python) est indispensable.

---

### GitLab CI pour Node.js : Le Pipeline

**Fichier :** `.gitlab-ci.yml`

*   **Phases (`stages`) :** Organise le pipeline en `build`, `test`, `package`.
*   **Cache :** `node_modules/` est mis en cache pour accélérer les installations répétitives.

**Étapes clés :**

*   **`build` :**
    *   `npm install` (installe les dépendances)
    *   `npm run build` (compile le projet, générant `dist/`)
    *   **Artefact :** Le dossier `dist/` est conservé pour 1 heure.
*   **`test` :**
    *   `npm install` (réinstalle les dépendances ou utilise le cache)
    *   `npm test` (lance les tests unitaires)
*   **`package` :**
    *   Archive le dossier `dist/` en `myapp.tar.gz`.
    *   **Artefact :** Le fichier `myapp.tar.gz` est généré et conservé pour 1 heure.

---

### GitHub Actions pour Python : Le Workflow

**Fichier :** `.github/workflows/ci.yml`

*   **Déclencheur (`on`) :** Le workflow se lance sur `push` et `pull_request`.
*   **Environnement (`runs-on`) :** Le job s'exécute sur `ubuntu-latest`.

**Étapes clés (`steps`) :**

1.  **Checkout :** Récupère le code source (`actions/checkout@v3`).
2.  **Setup Python :** Configure l'environnement avec Python 3.9 (`actions/setup-python@v4`).
3.  **Install dependencies :** Installe les dépendances (`pip install -r requirements.txt`).
4.  **Run tests :** Exécute les tests unitaires (`pytest`).
5.  **Package application :**
    *   Crée un répertoire `dist`.
    *   Copie le code source (`src/`) vers `dist/`.
    *   Archive le contenu de `dist/` en `dist/myapp.tar.gz`.
6.  **Upload artifact :** Télécharge l'archive `myapp.tar.gz` comme artefact du workflow.

---

### Optimiser Votre Pipeline CI : Bonnes Pratiques

| Étape         | Recommandations                                                                   |
| :------------ | :-------------------------------------------------------------------------------- |
| **Compilation** | S'assurer que la compilation produit un dossier clairement identifié (ex: `dist/`). |
| **Tests**     | Couvrir un maximum de cas critiques ; succès = retour 0.                          |
| **Artefacts** | Utiliser les fonctionnalités natives (`artifacts` GitLab, `upload-artifact` GitHub) pour stocker les builds. |
| **Rapidité**  | Utiliser le cache et des images légères pour accélérer les étapes répétitives.    |
| **Sécurité**  | Éviter d'inclure des secrets dans les scripts, privilégier les variables sécurisées. |

---

### Synthèse & Pour Aller Plus Loin

**Ce qu'il faut retenir :**

*   Mettre en place un pipeline CI simple est aujourd'hui accessible à tous.
*   Il automatise la compilation, la validation et la préparation des artefacts.
*   Cela facilite grandement une livraison logicielle fiable et répétable.
*   Ces exemples sont une base, enrichissable avec d'autres étapes (analyse statique, déploiement continu) selon vos besoins.

**Ressources utiles :**

*   GitLab CI/CD Documentation : [https://docs.gitlab.com/ee/ci/](https://docs.gitlab.com/ee/ci/)
*   GitHub Actions Documentation : [https://docs.github.com/en/actions](https://docs.github.com/en/actions)
*   Node.js CI example (GitLab) : [https://docs.gitlab.com/ee/ci/examples/#example-nodejs](https://docs.gitlab.com/ee/ci/examples/#example-nodejs)
*   Python CI example (GitHub Actions) : [https://docs.github.com/en/actions/guides/building-and-testing-python](https://docs.github.com/en/actions/guides/building-and-testing-python)